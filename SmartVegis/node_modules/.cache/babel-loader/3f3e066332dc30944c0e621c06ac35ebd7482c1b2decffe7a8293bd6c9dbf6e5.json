{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\SmartVegis\\\\src\\\\context\\\\LocationContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationContext = /*#__PURE__*/createContext();\nexport const useLocation = () => {\n  _s();\n  const context = useContext(LocationContext);\n  if (!context) {\n    throw new Error('useLocation must be used within a LocationProvider');\n  }\n  return context;\n};\n_s(useLocation, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const LocationProvider = ({\n  children\n}) => {\n  _s2();\n  const [location, setLocation] = useState(null);\n  const [address, setAddress] = useState('Detecting location...');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const getAddressFromCoords = async (lat, lng) => {\n    try {\n      // Using a free reverse geocoding API\n      const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);\n      const data = await response.json();\n      if (data.address) {\n        const {\n          suburb,\n          city,\n          town,\n          village,\n          state,\n          country\n        } = data.address;\n        const locality = suburb || city || town || village || '';\n        const region = state || '';\n        return `${locality}${locality && region ? ', ' : ''}${region}`;\n      }\n      return 'Location detected';\n    } catch (err) {\n      console.error('Error getting address:', err);\n      return 'Location detected';\n    }\n  };\n  const detectLocation = () => {\n    setLoading(true);\n    setError(null);\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      setAddress('Location not available');\n      setLoading(false);\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async position => {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      setLocation({\n        lat: latitude,\n        lng: longitude\n      });\n      const addr = await getAddressFromCoords(latitude, longitude);\n      setAddress(addr);\n      setLoading(false);\n    }, err => {\n      console.error('Error getting location:', err);\n      setError('Unable to retrieve your location');\n      setAddress('Enable location access');\n      setLoading(false);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 300000 // 5 minutes cache\n    });\n  };\n  useEffect(() => {\n    detectLocation();\n  }, []);\n  const value = {\n    location,\n    address,\n    loading,\n    error,\n    detectLocation\n  };\n  return /*#__PURE__*/_jsxDEV(LocationContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s2(LocationProvider, \"9RXEEgU19Uab4e3etIKdNhBKrzI=\");\n_c = LocationProvider;\nexport default LocationContext;\nvar _c;\n$RefreshReg$(_c, \"LocationProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","LocationContext","useLocation","_s","context","Error","LocationProvider","children","_s2","location","setLocation","address","setAddress","loading","setLoading","error","setError","getAddressFromCoords","lat","lng","response","fetch","data","json","suburb","city","town","village","state","country","locality","region","err","console","detectLocation","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","addr","enableHighAccuracy","timeout","maximumAge","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/SmartVegis/src/context/LocationContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst LocationContext = createContext();\r\n\r\nexport const useLocation = () => {\r\n  const context = useContext(LocationContext);\r\n  if (!context) {\r\n    throw new Error('useLocation must be used within a LocationProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const LocationProvider = ({ children }) => {\r\n  const [location, setLocation] = useState(null);\r\n  const [address, setAddress] = useState('Detecting location...');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const getAddressFromCoords = async (lat, lng) => {\r\n    try {\r\n      // Using a free reverse geocoding API\r\n      const response = await fetch(\r\n        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`\r\n      );\r\n      const data = await response.json();\r\n      \r\n      if (data.address) {\r\n        const { suburb, city, town, village, state, country } = data.address;\r\n        const locality = suburb || city || town || village || '';\r\n        const region = state || '';\r\n        return `${locality}${locality && region ? ', ' : ''}${region}`;\r\n      }\r\n      return 'Location detected';\r\n    } catch (err) {\r\n      console.error('Error getting address:', err);\r\n      return 'Location detected';\r\n    }\r\n  };\r\n\r\n  const detectLocation = () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    if (!navigator.geolocation) {\r\n      setError('Geolocation is not supported by your browser');\r\n      setAddress('Location not available');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        setLocation({ lat: latitude, lng: longitude });\r\n        \r\n        const addr = await getAddressFromCoords(latitude, longitude);\r\n        setAddress(addr);\r\n        setLoading(false);\r\n      },\r\n      (err) => {\r\n        console.error('Error getting location:', err);\r\n        setError('Unable to retrieve your location');\r\n        setAddress('Enable location access');\r\n        setLoading(false);\r\n      },\r\n      {\r\n        enableHighAccuracy: true,\r\n        timeout: 10000,\r\n        maximumAge: 300000 // 5 minutes cache\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    detectLocation();\r\n  }, []);\r\n\r\n  const value = {\r\n    location,\r\n    address,\r\n    loading,\r\n    error,\r\n    detectLocation\r\n  };\r\n\r\n  return (\r\n    <LocationContext.Provider value={value}>\r\n      {children}\r\n    </LocationContext.Provider>\r\n  );\r\n};\r\n\r\nexport default LocationContext;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}